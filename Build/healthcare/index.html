<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CareBot App</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-image: url('https://i.pinimg.com/736x/85/e5/f5/85e5f58dc07aa9b8d08b125934ade8ca.jpg');
      background-size: cover;
      background-position: center;
      color: #000;
      margin: 0;
      padding: 0;
    }
    .container {
      background: rgba(255, 255, 255, 0.8);
      margin: 40px auto;
      padding: 20px;
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      text-align: center;
    }
    h1, h2, h3 {
      color: black;
    }
    input, select {
      padding: 10px;
      margin: 10px 0;
      width: 80%;
      border: 1px solid #ccc;
      border-radius: 10px;
    }
    button {
      background: black;
      color: white;
      border: none;
      padding: 12px 20px;
      margin: 10px;
      border-radius: 10px;
      cursor: pointer;
    }
    .chat-box {
      text-align: left;
      max-height: 200px;
      overflow-y: auto;
      margin-top: 20px;
      padding: 10px;
      border-radius: 10px;
      background-color: #fff;
      font-size: 14px;
    }
    .typing {
      border-right: .1em solid black;
      white-space: nowrap;
      overflow: hidden;
      width: 0;
      animation: typing 3s steps(40, end) forwards;
    }
    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>

<div class="container" id="page1">
  <h1>Welcome to CareBot üë©‚Äç‚öï</h1>
  <h3 class="typing">Your AI Health Assistant</h3>
  <input type="text" id="name" placeholder="Enter your name">
  <input type="text" id="age" placeholder="Enter your age (number only)">
  <input type="text" id="address" placeholder="Enter your address">
  <select id="language">
    <option value="en">English</option>
    <option value="kn">Kannada</option>
  </select>
  <button onclick="goToPage2()">‚û° Continue</button>
</div>

<div class="container hidden" id="page2">
  <h2>Hi <span id="userNameDisplay"></span>, How can I help you?</h2>
  <button onclick="startSpeaking()">üé§ Start Speaking</button>
  <button onclick="goToPremium()">üíé Go Premium</button>
  <div class="chat-box" id="chatHistory"></div>
</div>

<div class="container hidden" id="premiumPage">
  <h2>üåü Premium Access - ‚Çπ99</h2>
  <p>üí¨ Chat with Doctors<br>üìù Access Healthcare Reports</p>
  <button onclick="goToPage2()">üîô Go Back</button>
</div>

<script>
  const encouragements = [
    "You're doing great!",
    "Take care of yourself. You matter.",
    "Health is wealth!",
    "I'm here to help you anytime. üíô"
  ];

  const healthData = {
    // English
    "headache": ["Take rest and stay hydrated.", "Paracetamol 500mg"],
    "fever": ["Monitor your temperature and rest.", "Crocin, Paracetamol"],
    "cold": ["Stay warm and drink fluids.", "Cetirizine at night"],
    "cough": ["Avoid cold drinks and rest.", "Benadryl or Honitus"],
    "stomach pain": ["Eat light and avoid spicy food.", "Cyclopam, Meftal-Spas"],
    "vomiting": ["Drink ORS and rest.", "Domperidone or Emeset"],
    "diabetes": ["Maintain diet and check sugar regularly.", "Consult doctor for insulin or Metformin"],
    "high blood pressure": ["Reduce salt intake, relax.", "Amlodipine or Telmisartan"],
    "mental stress": ["Meditation and good sleep helps.", "No tablets needed"],
    "acidity": ["Avoid oily food, drink cold milk.", "Pantoprazole or Gelusil"],
    "menstrual cramps": ["Use hot water bag, rest.", "Meftal-Spas or Drotin"],
    
    // Kannada
    "‡≤§‡≤≤‡≥Ü‡≤®‡≥ã‡≤µ‡≥Å": ["‡≤®‡≥Ä‡≤µ‡≥Å ‡≤µ‡≤ø‡≤∂‡≥ç‡≤∞‡≤æ‡≤Ç‡≤§‡≤ø ‡≤§‡≥Ü‡≤ó‡≥Ü‡≤¶‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤®‡≥Ä‡≤∞‡≥Å ‡≤ï‡≥Å‡≤°‡≤ø‡≤Ø‡≤ø‡≤∞‡≤ø.", "‡≤™‡≥ç‡≤Ø‡≤æ‡≤∞‡≤æ‡≤∏‡≤ø‡≤ü‡≤Æ‡≤æ‡≤≤‡≥ç 500mg"],
    "‡≤ú‡≥ç‡≤µ‡≤∞": ["‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤§‡≤æ‡≤™‡≤Æ‡≤æ‡≤®‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≥ã‡≤°‡≤ø‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤µ‡≤ø‡≤∂‡≥ç‡≤∞‡≤æ‡≤Ç‡≤§‡≤ø ‡≤§‡≥Ü‡≤ó‡≥Ü‡≤¶‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø.", "‡≤ï‡≥ç‡≤∞‡≥ä‡≤∏‡≤ø‡≤®‡≥ç ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤™‡≥ç‡≤Ø‡≤æ‡≤∞‡≤æ‡≤∏‡≤ø‡≤ü‡≤Æ‡≤æ‡≤≤‡≥ç"],
    "‡≤ú‡≤≤‡≤¨‡≤æ‡≤Ø‡≤ø": ["‡≤§‡≤Ç‡≤™‡≤æ‡≤¶ ‡≤™‡≤æ‡≤®‡≥Ä‡≤Ø‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≤™‡≥ç‡≤™‡≤ø‡≤∏‡≤ø.", "‡≤∏‡≥Ü‡≤ü‡≤ø‡≤∞‡≤ø‡≤ú‡≤ø‡≤®‡≥ç"],
    "‡≤ñ‡≤æ‡≤∏‡≤ø": ["‡≤§‡≤Ç‡≤™‡≤æ‡≤¶ ‡≤®‡≥Ä‡≤∞‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≤™‡≥ç‡≤™‡≤ø‡≤∏‡≤ø.", "‡≤¨‡≥Ü‡≤®‡≤°‡≥ç‡≤∞‡≤ø‡≤≤‡≥ç ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤π‡≥ã‡≤®‡≤ø‡≤ü‡≤∏‡≥ç"],
    "‡≤π‡≥Å‡≤ú‡≥Å‡≤ï‡≥Å": ["‡≤Æ‡≤∏‡≤æ‡≤≤‡≥Ü ‡≤Ø‡≥Å‡≤ï‡≥ç‡≤§ ‡≤Ü‡≤π‡≤æ‡≤∞‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≤™‡≥ç‡≤™‡≤ø‡≤∏‡≤ø.", "‡≤∏‡≥à‡≤ï‡≥ç‡≤≤‡≥ã‡≤™‡≥ç‡≤Ø‡≤æ‡≤Æ‡≥ç ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤Æ‡≥Ü‡≤´‡≥ç‡≤ü‡≤æ‡≤≤‡≥ç ‡≤∏‡≥ç‡≤™‡≤æ‡≤∏‡≥ç"],
    "‡≤ä‡≤ú‡≥ç‡≤µ‡≤æ‡≤∞": ["ORS ‡≤ï‡≥Å‡≤°‡≤ø‡≤Ø‡≤ø‡≤∞‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤µ‡≤ø‡≤∂‡≥ç‡≤∞‡≤æ‡≤Ç‡≤§‡≤ø ‡≤™‡≤°‡≥Ü‡≤¶‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø.", "‡≤°‡≤æ‡≤Ç‡≤™‡≥Ü‡≤∞‡≤ø‡≤°‡≥ã‡≤®‡≥ç ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤é‡≤Æ‡≥Ü‡≤∏‡≥Ü‡≤ü‡≥ç"],
    "‡≤°‡≤Ø‡≤æ‡≤¨‡≤ø‡≤ü‡≤ø‡≤∏‡≥ç": ["‡≤Ü‡≤π‡≤æ‡≤∞ ‡≤®‡≤ø‡≤Ø‡≤Ç‡≤§‡≥ç‡≤∞‡≤ø‡≤∏‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≤ï‡≥ç‡≤ï‡≤∞‡≥Ü ‡≤Æ‡≤ü‡≥ç‡≤ü ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤ø.", "‡≤á‡≤®‡≥ç‡≤∏‡≥Å‡≤≤‡≤ø‡≤®‡≥ç ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤Æ‡≥Ü‡≤ü‡≥ç‚Äå‡≤´‡≤æ‡≤∞‡≥ç‡≤Æ‡≤ø‡≤®‡≥ç"],
    "‡≤¨‡≤ø‡≤™‡≤ø": ["‡≤â‡≤™‡≥ç‡≤™‡≤ø‡≤® ‡≤∏‡≥á‡≤µ‡≤®‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤°‡≤ø‡≤Æ‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø.", "‡≤ü‡≥Ü‡≤≤‡≥ç‡≤Æ‡≤ø‡≤∏‡≤æ‡≤∞‡≥ç‡≤ü‡≤®‡≥ç ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤é‡≤Æ‡≥ç‡≤≤‡≥ã‡≤°‡≤ø‡≤™‡≥à‡≤®‡≥ç"],
    "‡≤Æ‡≤æ‡≤®‡≤∏‡≤ø‡≤ï ‡≤í‡≤§‡≥ç‡≤§‡≤°": ["‡≤ß‡≥ç‡≤Ø‡≤æ‡≤® ‡≤Æ‡≤æ‡≤°‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤µ‡≤ø‡≤∂‡≥ç‡≤∞‡≤æ‡≤Ç‡≤§‡≤ø ‡≤™‡≤°‡≥Ü‡≤Ø‡≤ø‡≤∞‡≤ø.", "‡≤î‡≤∑‡≤ß ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø‡≤µ‡≤ø‡≤≤‡≥ç‡≤≤"],
    "‡≤ú‡≥ç‡≤µ‡≤∞‡≤¶ ‡≤™‡≥ç‡≤∞‡≤≠‡≤æ‡≤µ": ["‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å ‡≤®‡≥Ä‡≤∞‡≥Å ‡≤ï‡≥Å‡≤°‡≤ø‡≤Ø‡≤ø‡≤∞‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤µ‡≤ø‡≤∂‡≥ç‡≤∞‡≤æ‡≤Ç‡≤§‡≤ø ‡≤™‡≤°‡≥Ü‡≤Ø‡≤ø‡≤∞‡≤ø.", "‡≤™‡≥ç‡≤Ø‡≤æ‡≤∞‡≤æ‡≤∏‡≤ø‡≤ü‡≤Æ‡≤æ‡≤≤‡≥ç"],
    "‡≤™‡≤ø‡≤§‡≥ç‡≤§": ["‡≤§‡≥Ü‡≤≥‡≥ç‡≤≥‡≤®‡≥Ü‡≤Ø ‡≤Ü‡≤π‡≤æ‡≤∞ ‡≤§‡≥Ü‡≤ó‡≥Ü‡≤¶‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø.", "‡≤™‡≥ç‡≤Ø‡≤æ‡≤Ç‡≤ü‡≥ã‡≤™‡≥ç‡≤∞‡≤ú‡≥ã‡≤≤‡≥ç ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤ú‡≥Ü‡≤≤‡≥Å‡≤∏‡≤ø‡≤≤‡≥ç"],
    "‡≤Æ‡≤æ‡≤∏‡≤ø‡≤ï ‡≤®‡≥ã‡≤µ‡≥Å": ["‡≤π‡≤æ‡≤ü‡≥ç ‡≤µ‡≤æ‡≤ü‡≤∞‡≥ç ‡≤¨‡≥ç‡≤Ø‡≤æ‡≤ó‡≥ç ‡≤â‡≤™‡≤Ø‡≥ã‡≤ó‡≤ø‡≤∏‡≤ø.", "‡≤Æ‡≥Ü‡≤´‡≥ç‡≤ü‡≤æ‡≤≤‡≥ç ‡≤∏‡≥ç‡≤™‡≤æ‡≤∏‡≥ç ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤°‡≥ç‡≤∞‡≥ã‡≤ü‡≤ø‡≤®‡≥ç"]
  };

  let userLang = "en";

  function goToPage2() {
    const name = document.getElementById('name').value.trim();
    const age = document.getElementById('age').value.trim();
    const address = document.getElementById('address').value.trim();
    userLang = document.getElementById('language').value;

    if (!name || !age || !address) {
      alert("Please fill all fields.");
      return;
    }

    if (!/^\d+$/.test(age)) {
      alert("Age must be a number.");
      return;
    }

    document.getElementById('userNameDisplay').textContent = name;
    document.getElementById('page1').classList.add("hidden");
    document.getElementById('premiumPage').classList.add("hidden");
    document.getElementById('page2').classList.remove("hidden");
  }

  function goToPremium() {
    document.getElementById('page2').classList.add("hidden");
    document.getElementById('premiumPage').classList.remove("hidden");
  }

  function startSpeaking() {
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = userLang === "kn" ? "kn-IN" : "en-IN";
    recognition.start();

    recognition.onresult = function(event) {
      const transcript = event.results[0][0].transcript.toLowerCase();
      updateChat("üë§ You: " + transcript);

      let found = false;
      for (let issue in healthData) {
        if (transcript.includes(issue)) {
          found = true;
          const [advice, tablet] = healthData[issue];
          const encouragement = encouragements[Math.floor(Math.random() * encouragements.length)];
          const reply = `ü§ñ CareBot: ${advice} - üíä ${tablet}`;
          updateChat(reply);
          updateChat(`üíô ${encouragement}`);
          speak(`${advice}. ${tablet}. ${encouragement}`);
          break;
        }
      }

      if (!found) {
        const fallback = userLang === "kn"
          ? "ü§ñ CareBot: ‡≤ï‡≥ç‡≤∑‡≤Æ‡≤ø‡≤∏‡≤ø, ‡≤®‡≤æ‡≤®‡≥Å ‡≤Ö‡≤∞‡≥ç‡≤•‡≤Æ‡≤æ‡≤°‡≤ø‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤≤‡≤ø‡≤≤‡≥ç‡≤≤. ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥ä‡≤Æ‡≥ç‡≤Æ‡≥Ü ‡≤™‡≥ç‡≤∞‡≤Ø‡≤§‡≥ç‡≤®‡≤ø‡≤∏‡≤ø."
          : "ü§ñ CareBot: Sorry, I didn‚Äôt understand. Please try again.";
        updateChat(fallback);
        speak(fallback.replace("ü§ñ CareBot: ", ""));
      }
    };
  }

  function updateChat(message) {
    const chat = document.getElementById('chatHistory');
    chat.innerHTML += `<div>${message}</div>`;
    chat.scrollTop = chat.scrollHeight;
  }

  function speak(text) {
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang = userLang === "kn" ? "kn-IN" : "en-IN";
    speechSynthesis.speak(utter);
  }
</script>
